<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MovieShift カレンダー</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='calendar.css') }}">
  
</head>
<body>
 
  <h1 id="monthYear"></h1>
 
  <!-- 🍔 ハンバーガーボタン -->
  <div class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </div>
 
  <!-- 月切り替え -->
  <div class="month-switch">
    <button id="prevMonth">← 前の月</button>
    <button id="nextMonth">次の月 →</button>
  </div>
 
  <!-- メニュー -->
  <nav class="menu" id="menu">
    <ul>
      <li><a href="#" id="logout-link">ログアウト</a></li>
      <li><a href="{{ url_for('chatbot.chat') }}">FAQ</a></li>
    </ul>
  </nav>
 
  <!-- カレンダー -->
  <table class="calendar" id="calendar">
    <thead>
      <tr>
        <th>日</th>
        <th>月</th>
        <th>火</th>
        <th>水</th>
        <th>木</th>
        <th>金</th>
        <th>土</th>
      </tr>
    </thead>
    <tbody id="calendar-body"></tbody>
  </table>
 
  <script id="sentDatesData" type="application/json">
    {{ sent_dates | tojson | safe }}
  </script>
 
  <script>
    const sentDates = JSON.parse(document.getElementById("sentDatesData").textContent);
 
    // 🍔 ハンバーガーメニュー動作
    const hamburger = document.getElementById('hamburger');
    const menu = document.getElementById('menu');
    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      menu.classList.toggle('active');
 
      // 🔹 ログアウト確認アラート
    const logoutLink = document.getElementById("logout-link");
    logoutLink.addEventListener("click", function (e) {
        e.preventDefault();
        const confirmed = confirm("ログアウトしますか？");
        if (confirmed) {
            window.location.href = "{{ url_for('login.logout') }}";
        }
    });
    });
 
    
  </script>
 
  <!-- ✅ calendar.js はこの下で読み込む -->
  <script src="{{ url_for('static', filename='calendar.js') }}"></script>
 
</body>
</html>
 