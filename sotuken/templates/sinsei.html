<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>希望入力 | ShiftForm</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/sinsei.css') }}">
</head>
<body>
  <div class="overlay"></div>

  <div class="container">
    <h1 class="title"><span class="logo">M</span>{{ date }} の希望入力</h1>
    
    {% if notice %}
    <div style="background:#fff3cd; border-left:4px solid #ff9800; padding:15px; margin-bottom:20px; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1);">
      <strong style="color:#856404;">{{ notice }}</strong><br>
      <span style="color:#666;">営業時間: {{ start_limit }} 〜 {{ end_limit }}</span>
    </div>
    {% endif %}
    
    <div id="shift-settings" 
         data-min-hours="{{ min_hours }}"
         data-start-limit="{{ start_limit }}"
         data-end-limit="{{ end_limit }}">
    </div>

    <form method="POST" class="form-card" onsubmit="return validateForm()">
      <div class="form-group">
        <label>ID</label>
        <input type="text" name="name" value="{{ session.get('user_id', '') }}" readonly>
      </div>

      <div class="form-group">
        <label>出勤有無</label>
        <select id="workSelect" name="work" onchange="toggleTimeInputs()">
          <option value="1">○ 出勤可能</option>
          <option value="0">× 出勤不可</option>
        </select>
      </div>

      <div class="form-group">
        <label>開始時間</label>
        <input type="time" id="startTime" name="start_time" min="{{ start_limit }}" max="{{ end_limit }}" required>
        <small style="color:#666; font-size:0.85em; display:block; margin-top:5px;">営業時間: {{ start_limit }} 〜 {{ end_limit }}</small>
      </div>

      <div class="form-group">
        <label>終了時間</label>
        <input type="time" id="endTime" name="end_time" min="{{ start_limit }}" max="{{ end_limit }}" required>
        <small style="color:#666; font-size:0.85em; display:block; margin-top:5px;">最低勤務時間: {{ min_hours }} 時間</small>
      </div>

      <button type="submit" class="btn">保存</button>
    </form>

    <a href="{{ url_for('calendar.calendar') }}" class="back-link">← カレンダーに戻る</a>
  </div>

  <script src="{{ url_for('static', filename='js/shinsei.js') }}"></script>
  
  
</body>
</html>